{% extends 'components/detalle_base.html' %}

{% with list_url='catalogos:metodos_pago_lista' edit_url='catalogos:metodos_pago_editar' delete_url='catalogos:metodos_pago_eliminar' mensaje_activo='Este método de pago está disponible para usar en transacciones' mensaje_inactivo='Este método de pago no está disponible' %}

{% block breadcrumb_items %}
{% include 'catalogos/includes/breadcrumb_catalogos.html' with section_url='catalogos:metodos_pago_lista' section_name='Métodos de Pago' %}
{% endblock %}

{% block header_icon %}credit-card{% endblock %}

{% block detalle_content %}
<div class="row">
    {% include 'catalogos/includes/campo_detalle.html' with label='Código' value=object.codigo %}
    
    <div class="col-md-6 mb-3">
        <div class="text-muted small">Tipo de Método</div>
        <p class="h5">
            <span class="badge 
                {% if object.tipo_metodo == 'EFECTIVO' %}bg-success
                {% elif object.tipo_metodo == 'TRANSFERENCIA' %}bg-primary
                {% elif object.tipo_metodo == 'CHEQUE' %}bg-info
                {% elif object.tipo_metodo == 'TARJETA_CREDITO' %}bg-warning
                {% elif object.tipo_metodo == 'TARJETA_DEBITO' %}bg-secondary
                {% elif object.tipo_metodo == 'CONSIGNACION' %}bg-dark
                {% else %}bg-light text-dark{% endif %}">
                {{ object.get_tipo_metodo_display }}
            </span>
        </p>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-3">
        <div class="text-muted small">Requiere Referencia</div>
        <p class="h5">
            {% if object.requiere_referencia %}
                <i class="bi bi-check-circle text-success"></i> Sí
                <br>
                <small class="text-muted">
                    Ejemplo: número de cheque, referencia de transferencia, etc.
                </small>
            {% else %}
                <i class="bi bi-x-circle text-danger"></i> No
            {% endif %}
        </p>
    </div>
    
    {% include 'catalogos/includes/campo_detalle.html' with label='Fecha de Creación' value=object.fecha_creacion|date:"d/m/Y H:i" %}
</div>
{% endblock %}

{% block sidebar_extra %}
<hr>

<div class="alert alert-light">
    <h6 class="alert-heading">
        <i class="bi bi-lightbulb"></i>
        Uso de este método
    </h6>
    <p class="mb-0 small">
        Este método de pago se puede usar en:
    </p>
    <ul class="small mb-0 mt-2">
        <li>Cobros de facturas</li>
        <li>Pagos a proveedores</li>
        <li>Movimientos de tesorería</li>
    </ul>
</div>
{% endblock %}

{% endwith %}
